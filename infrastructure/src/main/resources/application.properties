# ---------
# Data source
quarkus.hibernate-orm.database.generation=validate
quarkus.flyway.migrate-at-start=true
%dev.quarkus.hibernate-orm.log.sql=true

# ---------
# Container
quarkus.jib.base-jvm-image=eclipse-temurin:17-jre-alpine

# ---------
# OIDC / Security

%prod.quarkus.oidc.auth-server-url=${keycloak.server-url}/realms/${keycloak.realm}
%prod.keycloak.server-url=https://login.aws.innovation-hub.de/auth
%prod.keycloak.realm=innovation-hub-bergisches-rheinland

quarkus.oidc.client-id=${keycloak.client-id}
quarkus.oidc.application-type=service

keycloak.server-url=http://localhost:${quarkus.keycloak.devservices.port}/auth
keycloak.realm=quarkus
keycloak.client-secret=${KEYCLOAK_CLIENT_SECRET}
keycloak.client-id=prox-user-service

# ---------
# Cache
quarkus.cache.caffeine."keycloak-user-cache".expire-after-write=180S
quarkus.cache.caffeine."keycloak-user-cache".maximum-size=100

quarkus.cache.caffeine."keycloak-users-search-cache".expire-after-write=180S
quarkus.cache.caffeine."keycloak-users-search-cache".maximum-size=100

# ---------
# Dev Services
#quarkus.keycloak.devservices.enabled=true

# We're using fixed ports in order to use dev services configuration in the keycloak.server-url
# property
# We're using different ports here to make it possible to run tests and devmode independently from
# each other
quarkus.keycloak.devservices.port=8180
%test.quarkus.keycloak.devservices.port=8181
